---
sidebar_position: 5
---

import { Mafs, Coordinates, Plot, Line, Circle, Theme, useMovablePoint, MovablePoint, useStopwatch, vec, Vector, LaTeX, Polygon, Transform, labelPi, Point, Text } from "mafs";

import { useState, useEffect, useRef, useCallback, useMemo, memo, Fragment } from "react";
import { lineLabel } from "@site/src/utilities/lines";
import { color, getColorFromMagnitude, gradient } from "@site/src/utilities/colors";
import TOCInline from '@theme/TOCInline';
import * as MB from "mathbox-react";
import * as THREE from "three";
import range from "lodash/range";
import { OrbitControls } from "three/examples/jsm/controls/OrbitControls";
import { easeInOutCubic } from "js-easing-functions";

# Applying Multivariable Derivatives

Previously, we covered a lot of the theory behind multivariable derivatives, starting from the partial derivatives, the gradient, and the directional derivative, and ending with the Jacobian matrix.
Now we will look at how to apply these concepts to solve some problems.

## Table of Contents

<TOCInline toc={toc} />

## Tangent Planes of Graphs

Recall from single-variable calculus that we can use a tangent line to approximate the behavior of a function near a point.
Given a point $x_0$ on a curve $f(x)$, the tangent line at $x_0$ is given by the following:

$$
\begin{equation}
y = \dv{f}{x}(x_0)(x - x_0) + f(x_0)
\end{equation}
$$

We can extend this idea to multivariable functions.
Instead of a tangent line, we use a tangent *plane* to approximate the behavior of a function near a point.

Before even attempting to find the tangent plane, let's explore 3D planes a bit more to build some intuition.

### Understanding and Controlling 3D Planes in Space

Let the plane be a function of $x$ and $y$:

$$
\begin{equation}
L(x, y) = ?
\end{equation}
$$

Consider a point in 3D space, $(1, 2, 3)$.
Then, consider a plane $L(x, y)$ such that the plane passes through the point $(1, 2, 3)$.
There could be many such planes, so we will need to specify more information to uniquely determine the plane.


export function Plane3DGraph() {
    const a = 3;
    const b = 3;
    const c = 3;
    const d = 9;

    const [slice, setSlice] = useState("x") // "x", "y";
    const [slicePoint, setSlicePoint] = useState(1);

    function z(x, y) {
        return (d - a * x - b * y) / c;
    }

    return (
        <div className="card">
            <div className="card__body">
                <CustomMathbox>
                    <MB.Cartesian
                        scale={[
                            0.5, 0.5, 0.5
                        ]}
                    >
                        <MB.Grid axes="xz" rangeX={[-10, 10]} rangeY={[-10, 10]} />
                        <MB.Axis axis="x" range={[-10, 10]} color={color("yellow")} />
                        <MB.Axis axis="y" range={[-10, 10]} color={color("green")} />
                        <MB.Axis axis="z" range={[-10, 10]} color={color("blue")} />
                        <MB.Area
                            id="plane"
                            axes="xz"
                            expr={(emit, x, y, i, t) => {
                                emit(x, z(x, y), y); // Note the order of the axes
                            }}
                            width={64}
                            height={64}
                            channels={3}
                            rangeX={slice === "x" ? [slicePoint, 2] : [-2, 2]}
                            rangeY={slice === "y" ? [slicePoint, 2] : [-2, 2]}
                        />
                        <MB.Surface
                            points="#plane"
                            opacity={0.5}
                            color={color("blue")}
                            blending="additive"
                        />
                    </MB.Cartesian>
                </CustomMathbox>
            </div>
            <div className="card__footer">
                <ControlPanel>
                    <SliderInput label="Slice" value={slice} setValue={setSlice} options={["x", "y"]} />
                </ControlPanel>
            </div>
        </div>
    )
}

The first property of this plane function, is that it must pass through the point $(1, 2, 3)$. This can be expressed as:

$$
\begin{equation}
L(1, 2) = 3
\end{equation}
$$

Next, consider the slope of the plane. If we slice the plane along the $x$-axis, we will see a line, and likewise for the $y$-axis.
